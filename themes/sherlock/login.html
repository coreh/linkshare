<!DOCTYPE html>
<html lang="{{locale}}" class="{{dc "dark" ""}}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{title}} - Locked Case</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/theme.css">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            accent: {
              50: 'var(--c-50)', 100: 'var(--c-100)', 200: 'var(--c-200)', 300: 'var(--c-300)',
              400: 'var(--c-400)', 500: 'var(--c-500)', 600: 'var(--c-600)', 700: 'var(--c-700)',
              800: 'var(--c-800)', 900: 'var(--c-900)', 950: 'var(--c-950)'
            }
          },
          fontFamily: { display: ['{{{font}}}', 'serif'] }
        }
      }
    };
  </script>
  <style>
    {{#if auto_dark}}
    html:not(.dark) { --bg-color: {{background_color_light}}; }
    html.dark { --bg-color: {{background_color_dark}}; }
    {{else}}
    :root { --bg-color: {{#if dark}}{{background_color_dark}}{{else}}{{background_color_light}}{{/if}}; }
    {{/if}}
    body { font-family: 'Playfair Display', serif; }
  </style>
  {{#if auto_dark}}<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.documentElement.classList.add('dark');
    }
  </script>{{/if}}
</head>
<body class="{{dc "bg-[#0a1a10] text-emerald-100" "bg-emerald-50 text-emerald-900"}} min-h-screen flex items-center justify-center transition-colors ls-page">

  <div class="w-full max-w-md px-6">

    <!-- Locked Case File -->
    <div class="{{card_static}} border-2 rounded-lg p-8 backdrop-filter backdrop-blur-lg ls-card">

      <div class="text-center mb-8">
        <div class="text-6xl mb-4">üîí</div>
        <h1 class="text-3xl font-bold mb-2 ls-title ls-shadow-text">{{title}}</h1>
        <p class="{{muted}} text-sm">{{t "This case file is locked. Enter the password to proceed."}}</p>
      </div>

      <form method="POST" class="space-y-4">
        <div>
          <label for="password" class="block text-sm font-medium mb-2 {{muted}}">{{t "Password"}}</label>
          <input
            type="password"
            id="password"
            name="password"
            required
            autofocus
            class="{{input}} w-full px-4 py-3 rounded-lg border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-accent-500"
            placeholder="{{t "Enter the secret code..."}}"
          >
        </div>

        {{#if error}}
        <div class="{{dc "bg-red-950/40 border-red-700/40 text-red-300" "bg-red-50 border-red-200 text-red-700"}} border-2 rounded-lg p-3 text-sm">
          {{error}}
        </div>
        {{/if}}

        <button
          type="submit"
          class="w-full {{dc "bg-emerald-700 hover:bg-emerald-600 text-emerald-100" "bg-emerald-600 hover:bg-emerald-700 text-white"}} font-bold py-3 px-6 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2 {{dc "focus:ring-offset-[#0a1a10]" "focus:ring-offset-emerald-50"}}"
        >
          {{t "Unlock Case File"}}
        </button>
      </form>

      {{#if parent.path}}
      <div class="mt-6 text-center">
        <a href="{{parent.path}}" class="text-sm {{hover_text}} transition-colors">
          {{t "‚Üê Return to previous case"}}
        </a>
      </div>
      {{/if}}

    </div>

    <div class="text-center mt-8 {{muted}} text-xs italic">
      {{t "\"You see, but you do not observe.\""}}
    </div>

  </div>

</body>
</html>
